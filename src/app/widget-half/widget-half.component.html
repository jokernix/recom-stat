<mat-card *ngIf="half$ | async as half">
    <mat-card-header>
        <mat-card-title>Half</mat-card-title>
        <mat-card-subtitle>{{ half.start | date }} - {{ half.end | date }}</mat-card-subtitle>

        <div class="ml-auto">
            <button mat-icon-button (click)="prevHalf()">
                <mat-icon>keyboard_arrow_left</mat-icon>
            </button>
            <button mat-icon-button (click)="nextHalf()" [disabled]="isLastHalf">
                <mat-icon>keyboard_arrow_right</mat-icon>
            </button>
        </div>
    </mat-card-header>

    <ng-container *ngIf="!half.loading else loading">
        <ul class="widget-values">
            <li>
                <div class="widget-values__label">Avg. Activity</div>
                <div class="widget-values__value">{{ half.activityPercent || 0 }}%</div>
            </li>
            <li>
                <div class="widget-values__label">Time</div>
                <div class="widget-values__value">{{ half.duration | time }} <span
                        *ngIf="half.dynamicNormOfWorkingTime">/ {{ half.dynamicNormOfWorkingTime | time }}</span></div>
            </li>
            <li>
                <div class="widget-values__label">Norm of working time</div>
                <div class="widget-values__value">{{ half.normOfWorkingTime | time }}</div>
            </li>
        </ul>
    </ng-container>

    <ng-template #loading>
        <mat-progress-spinner class="m-auto" mode="indeterminate" diameter="80"></mat-progress-spinner>
    </ng-template>

    <ng-template #noData>
        <h4 class="report-no-data mat-h4">
            Nothing to report
        </h4>
    </ng-template>
</mat-card>
